/*! For license information please see pages-MetaBall-MetaBall-stories.d973acbe.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_canvas=self.webpackChunkreact_canvas||[]).push([[653],{"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(__webpack_exports__,{Z:function(){return _classCallCheck}})},"./node_modules/@babel/runtime/helpers/esm/createClass.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _createClass}});var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__.Z)(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}},"./node_modules/@babel/runtime/helpers/esm/objectSpread2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _objectSpread2}});var toPropertyKey=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperty(obj,key,value){return(key=(0,toPropertyKey.Z)(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}__webpack_require__.d(__webpack_exports__,{Z:function(){return _toPropertyKey}})},"./src/pages/MetaBall/MetaBall.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MetaBall1:function(){return MetaBall1},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return MetaBall_stories}});var _MetaBall1$parameters,_MetaBall1$parameters2,_MetaBall1$parameters3,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),GetMetaBall=function(){function GetMetaBall(p1,p2,distance){(0,classCallCheck.Z)(this,GetMetaBall),this.p1=void 0,this.p2=void 0,this.radius1=void 0,this.radius2=void 0,this.distance=void 0,this.p1=p1,this.p2=p2,this.distance=distance,this.radius1=p1.radius,this.radius2=p2.radius}return(0,createClass.Z)(GetMetaBall,[{key:"init",value:function init(ctx){var angle1,angle2,p1=this.p1,p2=this.p2,distance=this.distance;if(distance>200||distance<=Math.abs(p1.radius-p2.radius))return null;distance<p1.radius+p2.radius?(angle1=Math.acos((p1.radius*p1.radius+distance*distance-p2.radius*p2.radius)/(2*p1.radius*distance)),angle2=Math.acos((p2.radius*p2.radius+distance*distance-p1.radius*p1.radius)/(2*p2.radius*distance))):(angle1=0,angle2=0);var v=.5,angle=Math.atan2(p2.y-p1.y,p2.x-p1.x),angleofDistance=Math.acos((p1.radius-p2.radius)/distance),a1=angle+angle1+(angleofDistance-angle1)*v,a2=angle-angle1-(angleofDistance-angle1)*v,a3=angle+Math.PI-angle2-(Math.PI-angleofDistance-angle2)*v,a4=angle-Math.PI+angle2+(Math.PI-angleofDistance-angle2)*v,edge1={x:p1.x+Math.cos(a1)*p1.radius,y:p1.y+Math.sin(a1)*p1.radius},edge2={x:p1.x+Math.cos(a2)*p1.radius,y:p1.y+Math.sin(a2)*p1.radius},edge3={x:p2.x+Math.cos(a3)*p2.radius,y:p2.y+Math.sin(a3)*p2.radius},edge4={x:p2.x+Math.cos(a4)*p2.radius,y:p2.y+Math.sin(a4)*p2.radius},totalRadius=p1.radius+p2.radius,edgeDx=edge1.x-edge3.x,edgeDy=edge1.y-edge3.y,edgeDistance=Math.sqrt(edgeDx*edgeDx+edgeDy*edgeDy),d=Math.min(1.2,edgeDistance/totalRadius),HALF=Math.PI/2;this.radius1*=d,this.radius2*=d;var edge5={x:edge1.x+Math.cos(a1-HALF)*this.radius1,y:edge1.y+Math.sin(a1-HALF)*this.radius1},edge6={x:edge3.x+Math.cos(HALF+a3)*this.radius2,y:edge3.y+Math.sin(HALF+a3)*this.radius2},edge7={x:edge4.x+Math.cos(a4-HALF)*this.radius2,y:edge4.y+Math.sin(a4-HALF)*this.radius2},edge8={x:edge2.x+Math.cos(a2+HALF)*this.radius1,y:edge2.y+Math.sin(a2+HALF)*this.radius1};ctx.save(),ctx.fillStyle="white",ctx.beginPath(),ctx.moveTo(edge1.x,edge1.y),ctx.bezierCurveTo(edge5.x,edge5.y,edge6.x,edge6.y,edge3.x,edge3.y),ctx.lineTo(edge4.x,edge4.y),ctx.bezierCurveTo(edge7.x,edge7.y,edge8.x,edge8.y,edge2.x,edge2.y),ctx.fill(),ctx.closePath(),ctx.restore()}}]),GetMetaBall}(),Circle=function(){function Circle(ctx,index,x,y,radius){(0,classCallCheck.Z)(this,Circle),this.ctx=void 0,this.index=void 0,this.x=void 0,this.y=void 0,this.radius=void 0,this.vx=void 0,this.vy=void 0,this.ctx=ctx,this.index=index,this.x=x,this.y=y,this.vx=1*Math.random()-.5,this.vy=1*Math.random()-.5,this.radius=radius}return(0,createClass.Z)(Circle,[{key:"update",value:function update(){this.x+=this.vx,this.y+=this.vy,(this.x<this.radius||this.x>window.innerWidth-this.radius)&&(this.vx*=-1),(this.y<this.radius||this.y>window.innerHeight-this.radius)&&(this.vy*=-1)}},{key:"stickness",value:function stickness(circles){for(var i=this.index;i<circles.length;i++){var c1=circles[this.index],c2=circles[i],dx=c2.x-c1.x,dy=c2.y-c2.y,distance=Math.sqrt(dx*dx+dy*dy);new GetMetaBall(c1,c2,distance).init(this.ctx)}}},{key:"draw",value:function draw(ctx){ctx.beginPath(),ctx.fillStyle="#fff",ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),ctx.fill(),ctx.closePath()}}]),Circle}(),Canvas=function(){function Canvas(canvas,ctx){(0,classCallCheck.Z)(this,Canvas),this.canvas=void 0,this.ctx=void 0,this.mouse=void 0,this.circles=void 0,this.canvas=canvas,this.ctx=ctx,this.mouse={index:null,isDown:!1,offsetX:0,offsetY:0},this.circles=[]}return(0,createClass.Z)(Canvas,[{key:"bind",value:function bind(){window.addEventListener("mousedown",this.onDown.bind(this)),window.addEventListener("mousemove",this.onMove.bind(this)),window.addEventListener("mouseup",this.onUp.bind(this)),window.addEventListener("resize",this.resize.bind(this))}},{key:"destroy",value:function destroy(){window.removeEventListener("mousedown",this.onDown.bind(this)),window.removeEventListener("mousemove",this.onMove.bind(this)),window.removeEventListener("mouseup",this.onUp.bind(this)),window.removeEventListener("resize",this.resize.bind(this))}},{key:"init",value:function init(){this.circles=[];for(var i=0;i<2;i++){var x=Math.random()*(this.canvas.width-100)+50,y=Math.random()*(this.canvas.height-100)+50,circle=new Circle(this.ctx,i,x,y,50);this.circles.push(circle)}}},{key:"resize",value:function resize(){var ratio=window.devicePixelRatio;this.canvas.width=window.innerWidth*ratio,this.canvas.height=window.innerHeight*ratio,this.canvas.style.width="".concat(window.innerWidth,"px"),this.canvas.style.height="".concat(window.innerHeight,"px"),this.ctx.scale(ratio,ratio)}},{key:"onDown",value:function onDown(event){var _this=this;this.mouse.isDown=!0,this.mouse.offsetX=event.clientX,this.mouse.offsetY=event.clientY,this.circles.forEach((function(c){var dx=c.x-_this.mouse.offsetX,dy=c.y-_this.mouse.offsetY;Math.sqrt(dx*dx+dy*dy)<c.radius&&(_this.mouse.index=c.index)}))}},{key:"onMove",value:function onMove(event){if(this.mouse.isDown){var index=this.mouse.index;index&&(this.circles[index].x=this.circles[index].x+event.clientX-this.mouse.offsetX,this.circles[index].y=this.circles[index].y+event.clientY-this.mouse.offsetY,this.mouse.offsetX=event.clientX,this.mouse.offsetY=event.clientY)}}},{key:"onUp",value:function onUp(){this.mouse.isDown=!1}},{key:"draw",value:function draw(){var _this2=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.circles.forEach((function(circle){circle.update(),circle.stickness(_this2.circles),circle.draw(_this2.ctx)})),requestAnimationFrame(this.draw.bind(this))}}]),Canvas}(),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),MetaBall_stories={title:"ANIMATION/MetaBall",component:function MetaBall(){var canvasRef=(0,react.useRef)(null);return(0,react.useEffect)((function(){if(canvasRef.current){var canvas=canvasRef.current,context=canvas.getContext("2d"),c=new Canvas(canvas,context);return c.bind(),c.resize(),c.init(),c.draw(),function(){return c.destroy()}}}),[]),(0,jsx_runtime.jsx)("div",{className:"wrap",children:(0,jsx_runtime.jsx)("canvas",{ref:canvasRef})})}},MetaBall1={};MetaBall1.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},MetaBall1.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_MetaBall1$parameters=MetaBall1.parameters)||void 0===_MetaBall1$parameters?void 0:_MetaBall1$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{}"},null===(_MetaBall1$parameters2=MetaBall1.parameters)||void 0===_MetaBall1$parameters2||null===(_MetaBall1$parameters3=_MetaBall1$parameters2.docs)||void 0===_MetaBall1$parameters3?void 0:_MetaBall1$parameters3.source)})});var __namedExportsOrder=["MetaBall1"]},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":function(__unused_webpack_module,exports,__webpack_require__){var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);